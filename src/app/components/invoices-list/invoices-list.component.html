<p class="h2 mb-3">Invoices List</p>


<div class="mb-3">
  <select 
    [(ngModel)] = "supplierSelected"
    (ngModelChange)="onFilterInvoicesBySupplierName($event)"
  >
    <option 
      *ngFor="let supplier of this.suppliers"
      [value]="supplier.id"
      >{{ this.supplier.name}}</option>
  </select>

  <br>
  selected value: {{supplierSelected}}
</div>

<!-- <select 
  class="dropdown mb" 
  (change) = "filterInvoicesBySupplierName($event)"
  [(ngModel)] = "selected"
>
  
  <option
    *ngFor="let supplier of this.suppliers" 
    class="dropdown-item" 
    [value]="supplier.id"
    >{{ this.supplier.name }}
  </option>

</select> -->


<!-- <div class="dropdown mb-3">
  <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-expanded="false">
    Filter by Suppliers
  </a>

  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
    <a
      *ngFor="let supplier of this.suppliers" 
      class="dropdown-item" 
      (change) = "filterInvoicesBySupplierName()"
      >{{ this.supplier.name }}</a>
  </div>

  <select class="dropdown-menu" aria-labelledby="dropdownMenuLink">
    <option
      *ngFor="let supplier of this.suppliers" 
      class="dropdown-item" 
      >{{ this.supplier.name }}</option>
  </select>
</div> -->

<table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Invoice Number</th>
        <th scope="col">Supplier</th>
        <th scope="col">Amount</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>

      <tr *ngFor="let invoice of this.invoices">
        <td>{{ this.invoice.number | slice:0:6}}...</td>
        <td>{{ this.invoice.supplier.name }}</td>
        <td>{{ this.invoice.amount | currency: 'GBP' }}</td>
        <td>
          <button 
            routerLink="/invoices/{{ this.invoice.number }}"
            class="btn btn-primary btn-sm m-1"
            routerLink="/invoices/1"
          >invoice</button>
          
          <button 
            routerLink="/suppliers/{{ this.invoice.supplier.id }}"
            class="btn btn-secondary btn-sm m-1"
            routerLink="/suppliers/3"
          >supplier</button>
        </td>
        
      </tr>
    </tbody>
  </table>